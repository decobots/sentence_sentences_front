var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t){return null==t?"":t}function s(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function p(){return a(" ")}function d(){return a("")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){(null!=e||t.value)&&(t.value=e)}let w;function v(t){w=t}function y(){if(!w)throw new Error("Function called outside component initialization");return w}function x(){const t=y();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}const b=[],_=[],C=[],j=[],E=Promise.resolve();let L=!1;function k(t){C.push(t)}let N=!1;const z=new Set;function A(){if(!N){N=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];v(e),O(e.$$)}for(b.length=0;_.length;)_.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];z.has(e)||(z.add(e),e())}C.length=0}while(b.length);for(;j.length;)j.pop()();L=!1,N=!1,z.clear()}}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const B=new Set;let q;function S(){q={r:0,c:[],p:q}}function F(){q.r||o(q.c),q=q.p}function G(t,e){t&&t.i&&(B.delete(t),t.i(e))}function M(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),q.c.push(()=>{B.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const P="undefined"!=typeof window?window:global;function T(t){t&&t.c()}function Y(t,n,c){const{fragment:u,on_mount:s,on_destroy:l,after_update:i}=t.$$;u&&u.m(n,c),k(()=>{const n=s.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(k)}function D(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(b.push(t),L||(L=!0,E.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,r,c,u,s,l,i=[-1]){const f=w;v(e);const a=r.props||{},p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:i};let d=!1;p.ctx=c?c(e,a,(t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=r)&&(p.bound[t]&&p.bound[t](r),d&&H(e,t)),n}):[],p.update(),d=!0,o(p.before_update),p.fragment=!!u&&u(p.ctx),r.target&&(r.hydrate?p.fragment&&p.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):p.fragment&&p.fragment.c(),r.intro&&G(e.$$.fragment),Y(e,r.target,r.anchor),A()),v(f)}class J{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function K(e){let n;return{c(){n=f("span"),$(n,"class","svelte-1psr7ze")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&i(n)}}}class Q extends J{constructor(t){super(),I(this,t,null,K,c,{})}}function R(e){let n;return{c(){n=f("p"),n.textContent="You won!",$(n,"class","win svelte-joxtg7")},m(t,e){l(t,n,e)},p:t,d(t){t&&i(n)}}}function U(t){let e;function n(t,e){return t[0]>0?W:V}let o=n(t),r=o(t);return{c(){r.c(),e=d()},m(t,n){r.m(t,n),l(t,e,n)},p(t,c){o===(o=n(t))&&r?r.p(t,c):(r.d(1),r=o(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&i(e)}}}function V(e){let n;return{c(){n=f("p"),n.textContent="Game over!",$(n,"class","over svelte-joxtg7")},m(t,e){l(t,n,e)},p:t,d(t){t&&i(n)}}}function W(t){let e,n,o;return{c(){e=f("p"),n=a("Number of errors = "),o=a(t[0])},m(t,r){l(t,e,r),s(e,n),s(e,o)},p(t,e){1&e&&g(o,t[0])},d(t){t&&i(e)}}}function X(e){let n;function o(t,e){return t[1]?R:U}let r=o(e),c=r(e);return{c(){c.c(),n=d()},m(t,e){c.m(t,e),l(t,n,e)},p(t,[e]){r===(r=o(t))&&c?c.p(t,e):(c.d(1),c=r(t),c&&(c.c(),c.m(n.parentNode,n)))},i:t,o:t,d(t){c.d(t),t&&i(n)}}}function Z(t,e,n){let{errors:o=0}=e,{win:r=!1}=e;return t.$set=t=>{"errors"in t&&n(0,o=t.errors),"win"in t&&n(1,r=t.win)},[o,r]}class tt extends J{constructor(t){super(),I(this,t,Z,X,c,{errors:0,win:1})}}function et(t){let e;return{c(){e=a(t[0])},m(t,n){l(t,e,n)},p(t,n){1&n&&g(e,t[0])},d(t){t&&i(e)}}}function nt(t){let e,n,r,c,s;return{c(){e=f("input"),n=p(),r=f("div"),$(e,"maxlength","1"),$(e,"size","1"),$(e,"type","text"),$(e,"autocapitalize","none"),$(e,"class","svelte-1xgb1jp"),$(r,"class",c=u(t[3]?"line colorLine":"line")+" svelte-1xgb1jp")},m(o,c){l(o,e,c),h(e,t[2]),t[11](e),l(o,n,c),l(o,r,c),s=[m(e,"input",t[8]),m(e,"focus",t[9]),m(e,"focusout",t[10])]},p(t,n){4&n&&e.value!==t[2]&&h(e,t[2]),8&n&&c!==(c=u(t[3]?"line colorLine":"line")+" svelte-1xgb1jp")&&$(r,"class",c)},d(c){c&&i(e),t[11](null),c&&i(n),c&&i(r),o(s)}}}function ot(e){let n;function o(t,e){return t[1]?et:nt}let r=o(e),c=r(e);return{c(){n=f("div"),c.c(),$(n,"class","field svelte-1xgb1jp")},m(t,e){l(t,n,e),c.m(n,null)},p(t,[e]){r===(r=o(t))&&c?c.p(t,e):(c.d(1),c=r(t),c&&(c.c(),c.m(n,null)))},i:t,o:t,d(t){t&&i(n),c.d()}}}function rt(t,e,n){let{answer:o=""}=e,{correct:r=!1}=e,{position:c=0}=e,{focus:u=!1}=e,s="",l=!1;const i=x();let f;return t.$set=t=>{"answer"in t&&n(0,o=t.answer),"correct"in t&&n(1,r=t.correct),"position"in t&&n(5,c=t.position),"focus"in t&&n(6,u=t.focus)},t.$$.update=()=>{13&t.$$.dirty&&!l&&s&&o.toLowerCase()!==s.toLowerCase()&&n(2,s=""),36&t.$$.dirty&&s&&i("guess",{text:s,position:c}),82&t.$$.dirty&&u&&!r&&f.focus()},[o,r,s,l,f,c,u,i,function(){s=this.value,n(2,s),n(3,l),n(0,o)},t=>{n(3,l=!0)},t=>{n(3,l=!1)},function(t){_[t?"unshift":"push"](()=>{n(4,f=t)})}]}class ct extends J{constructor(t){super(),I(this,t,rt,ot,c,{answer:0,correct:1,position:5,focus:6})}}function ut(e){let n,o;return{c(){n=f("span"),o=a(e[0]),$(n,"class","svelte-16n4jvd")},m(t,e){l(t,n,e),s(n,o)},p(t,[e]){1&e&&g(o,t[0])},i:t,o:t,d(t){t&&i(n)}}}function st(t,e,n){let{symbol:o}=e;return t.$set=t=>{"symbol"in t&&n(0,o=t.symbol)},[o]}class lt extends J{constructor(t){super(),I(this,t,st,ut,c,{symbol:0})}}const{Boolean:it}=P;function ft(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function at(e){let n;const o=new Q({});return{c(){T(o.$$.fragment)},m(t,e){Y(o,t,e),n=!0},p:t,i(t){n||(G(o.$$.fragment,t),n=!0)},o(t){M(o.$$.fragment,t),n=!1},d(t){D(o,t)}}}function pt(t){let e;const n=new lt({props:{symbol:t[7].value}});return{c(){T(n.$$.fragment)},m(t,o){Y(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.symbol=t[7].value),n.$set(o)},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){M(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function dt(t){let e;const n=new ct({props:{answer:t[7].value,correct:t[7].correct,focus:t[7].focus,position:t[9]}});return n.$on("guess",t[3]),n.$on("error",t[6]),{c(){T(n.$$.fragment)},m(t,o){Y(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.answer=t[7].value),1&e&&(o.correct=t[7].correct),1&e&&(o.focus=t[7].focus),n.$set(o)},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){M(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function mt(t){let e,n,o,r;const c=[dt,pt,at],u=[];function s(t,e){return"letter"==t[7].type?0:"punctuation"==t[7].type?1:"whitespace"==t[7].type?2:-1}return~(e=s(t))&&(n=u[e]=c[e](t)),{c(){n&&n.c(),o=d()},m(t,n){~e&&u[e].m(t,n),l(t,o,n),r=!0},p(t,r){let l=e;e=s(t),e===l?~e&&u[e].p(t,r):(n&&(S(),M(u[l],1,1,()=>{u[l]=null}),F()),~e?(n=u[e],n||(n=u[e]=c[e](t),n.c()),G(n,1),n.m(o.parentNode,o)):n=null)},i(t){r||(G(n),r=!0)},o(t){M(n),r=!1},d(t){~e&&u[e].d(t),t&&i(o)}}}function $t(t){let e,n,o,r,c,u,s,a;const d=new tt({props:{errors:t[1],win:t[2]}});let g=t[0],h=[];for(let e=0;e<g.length;e+=1)h[e]=mt(ft(t,g,e));const w=t=>M(h[t],1,1,()=>{h[t]=null});return{c(){T(d.$$.fragment),e=p(),n=f("p"),n.textContent="help",o=p(),r=f("br"),c=p(),u=f("div");for(let t=0;t<h.length;t+=1)h[t].c();$(u,"class","text svelte-1m2cr74")},m(i,f){Y(d,i,f),l(i,e,f),l(i,n,f),l(i,o,f),l(i,r,f),l(i,c,f),l(i,u,f);for(let t=0;t<h.length;t+=1)h[t].m(u,null);s=!0,a=m(n,"click",t[4])},p(t,[e]){const n={};if(2&e&&(n.errors=t[1]),4&e&&(n.win=t[2]),d.$set(n),11&e){let n;for(g=t[0],n=0;n<g.length;n+=1){const o=ft(t,g,n);h[n]?(h[n].p(o,e),G(h[n],1)):(h[n]=mt(o),h[n].c(),G(h[n],1),h[n].m(u,null))}for(S(),n=g.length;n<h.length;n+=1)w(n);F()}},i(t){if(!s){G(d.$$.fragment,t);for(let t=0;t<g.length;t+=1)G(h[t]);s=!0}},o(t){M(d.$$.fragment,t),h=h.filter(it);for(let t=0;t<h.length;t+=1)M(h[t]);s=!1},d(t){D(d,t),t&&i(e),t&&i(n),t&&i(o),t&&i(r),t&&i(c),t&&i(u),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(h,t),a()}}}function gt(t,e,n){let o="";var r;r=async()=>{const t=await fetch("https://sentencesentences.herokuapp.com/quotes");n(5,o=await t.json())},y().$$.on_mount.push(r);let c=[],u=12;var s=!1;function l(t){let e=!0;const r=t.detail.position;if("letter"===c[r].type&&c[r].value.toLowerCase()===t.detail.text.toLowerCase()){for(let o=0;o<c.length-1;o++)"letter"===c[o].type&&c[o].value.toLowerCase()===t.detail.text.toLowerCase()&&(n(0,c[o].correct=!0,c),o>=r&&e&&(n(0,c[o].focus="next",c),e=!1));if(!e)for(let t=r;t<c.length-1;t++)if("next"===c[t].focus){n(0,c[t].focus=!1,c);for(let e=t+1;e<c.length-1;e++)if("letter"===c[e].type&&!1===c[e].correct){n(0,c[e].focus="autofocus",c);break}break}}else n(1,u-=1);n(0,c),n(5,o),n(2,s=!Boolean(c.find(t=>!1===t.correct)))}return t.$$.update=()=>{if(32&t.$$.dirty)for(let t=0;t<o.length;t++){const e=o[t];let r="",u=!0;e.match(/[a-zA-zа-яА-Я]/)?(r="letter",u=!1):r=e.match(/\s/)?"whitespace":"punctuation",n(0,c[t]={type:r,value:e,correct:u,focus:!1},c)}},[c,u,s,l,function(){for(let e=0;e<o.length-1;e++)if("letter"==c[e].type&&!c[e].correct){var t=new Object;t.detail=new Object,t.detail.position=e,t.detail.text=c[e].value,l(t),n(1,u-=1);break}},o,t=>{n(1,u-=1)}]}return new class extends J{constructor(t){super(),I(this,t,gt,$t,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
